version: latest
release: dev
name: enmasseproject/artemis
from: centos:7
user: 185

cmd:
    - "/opt/apache-artemis-2.0.0-SNAPSHOT/bin/main"
    - "/opt/apache-artemis-2.0.0-SNAPSHOT/bin/launch.sh"

packages:
    - gettext
    - hostname
    - iputils
    - java-1.8.0-openjdk-devel
    - libaio
    - python
    - which 

sources:
    - url: https://dl.bintray.com/enmasse/snapshots/latest/artemis-image.tar
    - url: http://people.redhat.com/~ulilleen/apache-artemis-2.0.0-SNAPSHOT-bin.tar.gz
scripts:
    - package: artemis-image
      exec: install

envs:
    information:
        - name: "JAVA_HOME"
          value: "/usr/lib/jvm/java"    
        - name: "ARTEMIS_HOME"
          value: "/opt/apache-artemis-2.0.0-SNAPSHOT"
        - name: "PATH"
          value: "$ARTEMIS_HOME/bin:$PATH"
        - name: "DISTRO_NAME"
          value: "apache-artemis-2.0.0-SNAPSHOT"           
volumes: 
  - "/var/run/artemis"           
           
ports:
    - value: 5673 
    - value: 61616 
    - value: 8161
