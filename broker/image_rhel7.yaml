version: 1.0
release: dev
name: redhat-amqmaas-1-tech-preview/amqmaas10-broker-openshift
from: redhat-openjdk-18/openjdk18-openshift:1.0
user: 185
#dogen:
#    version: "2.0.0rc11"

cmd:
    - "/opt/apache-artemis-2.0.0-SNAPSHOT/bin/main"
    - "/opt/apache-artemis-2.0.0-SNAPSHOT/bin/launch.sh"

packages:
    - gettext
    - hostname
    - iputils
    - libaio
    - python
    - which 

sources:
    - url: https://dl.bintray.com/enmasse/releases/0.8.0/artemis-image.tar
      md5sum: 2979749fc947124d894c8370ee0420c5
    - url: http://people.redhat.com/~ulilleen/apache-artemis-2.0.0-SNAPSHOT-bin.tar.gz
      md5sum: cf6b21f2e9d6f1b04cfcea85fd21033f
#    - url: https://www.apache.org/dyn/closer.cgi?filename=activemq/activemq-artemis/2.0.0/apache-artemis-2.0.0-bin.tar.gz&action=download
#      md5sum: fe03a54991ebf2af70ff3e2cd3033fbb
scripts:
    - package: artemis-image
      exec: install

envs:
    information:
        - name: "ARTEMIS_HOME"
          value: "/opt/apache-artemis-2.0.0-SNAPSHOT"
        - name: "PATH"
          value: "$ARTEMIS_HOME/bin:$PATH"
           
#volumes: 
#  - "/var/run/artemis"           
           
ports:
    - value: 5673 
    - value: 61616 
    - value: 8161
